# Домашнее задание к лекции 1.4	Типы данных в Java: объекты

## Задача № 1

И мы продолжаем улучшать наш Task Manager для нашей любимой команды!

Нужно помочь менеджеру не ошибиться при вводе времени на выполнение задачи. При добавлении задачи менеджер Иван вводит следующий текст: "Добавить картинку на главный экран приветствия, задача начинается в 15 и заканчивается в 19" (минуты учитывать пока не будем). 
Нужно найти в этом тексте время (часы) после выражения "начинается в" и "заканчивается в" рассчитать разницу между ними, если результат вычисления будет отрицательным или равен нулю - прерываем выполнение программы, выбрасывая Exception, а если положительный - выводим на экран и завершаем работу программы.  

### Процесс реализации
1. Для начала нужно считать данные для разбора.
  - Объявим в методе `main` ссылку на новый объект `Scanner scanner = new Scanner(System.in)` (где System.in - это стандартный поток ввода в нашем случае console).
  - Для того чтобы прочитать значения нужно вызвать у объекта `scanner.next()`, но так этот метод считывает каждое новое значение через пробел, лучше использовать другой метод этого класса - `scanner.nextLine()`, он считает всю строку целиком. Сохраним его в переменную, которую назовем `input`
    ```
      public static void main(String[] args) throws Exception {
        Scanner scanner = new Scanner(System.in);
        String input = scanner.nextLine();
        //TODO
    }
    ```
2. Находим время начала задачи, для этого в веденной пользователем строке нужно определить позицию начала выражения `начинается в`. Для определения вхождения нам поможет метод `indexOf`.
  - Определение позиции начала подстроки:
    ```
    int startPos = input.indexOf("начинается в");
    ```
  - Находим числа после этого выражения. Для этого используем метод класса String - substring(int beginIndex, int endIndex), он принимает на вход начальную позицию и конечную для извлечения подстроки. Начальной позицией будет последний символ выражения "начинается в", а конечнный beginIndex + 3 символа (количество возможных символов часов с пробелами). 
    ```
    String startTimeInString = input.substring(startPos + 12, startPos + 15);
    ```
  - Получаем строку `startTimeInString`, в ней возможны пробелы. Для удаления начальных и конечных пробелов в Java у класса строк реализован метод `trim`.
    ```
    String startTimeInString = startTimeInString.trim();
    ```
  - Последний шаг для нахождения часов - преобразовать их в числовой тип, например int. Воспользуемся методом `Integer.parse`, который принимает на вход число в виде строки и возвращает int.
    ```
    int startTime = Integer.parse(startTimeInString);
    ```
3. На этом шаге нам нужно найти число `endTime`, для этого нужно повторить операции над `input` (все как в пункте 2), только искать время после подстроки "заканчивается в"
4. Рассчитываем количество часов на выполнение задачи - вычитаем из `endTime` `startTime`. Если результат вычисления меньше нуля выбрасываем `Exception`
    ```
    int result = endTime - startTime;
    if (result < 0) {
        throw new Exception("Error input string" + input);
    }
    ``` 
5. Выведем полученный результат в консоль, `System.out.println("На задачу потребуется: " + result + " ч.");`
6. Done! 

## Задача № 2

Продолжаем искать проблемы в пользовательском вводе данных, лишние пробелы давно не дают покоя программистам, они касаются всех и разработчиков для Android, Backend и даже программистов занимающихся BigData/ML. Нам нужно научиться удалять в любом тексте лишние пробелы (там где их больше чем один, за исключением начала и конца текста, и там где их вообще не должно быть).

Наша задача: написать функцию (метод), которая будет принимать на вход строку, введенную пользователем, и возвращать обработанную строку без лишних пробелов. Результат выполнения нужно вывести в консоль.

### Процесс реализации
Для того чтобы удалить лишние пробелы в языке Java у строк есть метод `trim`, который удаляет пробелы в начале и в конце строки. Но что же нам делать, если мы встретим лишние пробелы внутри? Как и всегда есть несколько способов, например, разделить весть текст на слова, удалить пробелы и соединиться обратно. 
Но можно сделать более "элегантно", для этого используется метод объекта строк `replaceAll`, который найдет и перезапишет все пробелы на один.

1. Создаем объект `Scanner scanner = new Scanner(System.in)` в методе `main` и сохраняем введеные данные (метод `next`) в переменную `input`.
2. Составляем regex для поиска всех пробелов `s` добавляем к нему `+` (что значит неограниченное множество), получаем `s+` (о regex подробнее: https://tproger.ru/articles/regexp-for-beginners/).
3. Выполняем у строки `input.trim()`. Так мы удалим ненужные пробелы в начале строки и в конце. Далее сохраняем в переменную `inputTrimmed`.
4. Теперь выполняем `inputTrimmed.replaceAll`. Первым параметром передаем наш `regex`, а вторым говорим на что заменить = `" "` (пробел). Сохраняем полученную строку в переменную `result`.
5. Выводим значение переменной `result` на экран!
6. Готово.
7. Дополниельно можно вынести такую обработку строк в отдельный `static` метод и назвать `extraTrim`. 

## Задача № 3

Поговорим о математике, чем старше мы становились тем сложней формулы нам приходилось и приходится использовать. Подобная задача иногда встречается на собеседованиях, звучит она так: 
На вход методу приходит формула, нужно ее разобрать и проверить, все ли открытые скобки в ней закрыты и нет ли закрытых или открытых скобок, которые находятся не на своем месте (например `5*)(3+5())`). Если есть лишние скобки - возвращаем false, если лишних скобок нет - true.

### Процесс реализации

Задача на первый взгляд нетривиальна, давайте разбираться. С начала нужно продумать алгоритм, прежде чем приступать к реализации. Советую вам прежде попробовать решить задачу на бумаге. 
Решить можно следующим образом: считываем каждый символ и, если это открывающая скобка, то увеличиваем специально отведенную для этого переменную (назовем ее "счетчик"), если встречается закрывающая скобка — уменьшаем переменную. 
Формула будет верная если после обхода всей строки наш счетчик будет равен нулю.

1. Считываем строку из консоли и сохраняем в переменную input.
2. Создадим метод `isFormulaValid` (методы возвращающие тип boolean принято начинать не get, а с is, как бы задавая вопрос), возвращать он будет `true` или `false`, а входным параметром будет строка (формулу которую ввели). Метод должен находится вне другого метода `main` в котром мы запускаем программу. Сигнатура нового метода будет такая `static void isValidFormat(String formula)`.
3. В методе `isFormulaValid` создадим переменную (счетчик) типа `int` назовем ее `counter`, он будет отвечать за подсчет открытых и закрытых скобок, так же явно укажем что она равна нулю (`int counter = 0`).
4. Нам нужно перебрать всю строку, нам известно как взять длину строки `input.length` - метод вернет нам количество символов, на основе этих данных пишем цикл посимвольного обхода строки:

   ```
   for (int i = 0; i < input.length; i++) {
      //TODO
   }
   ```
5. Чтобы взять символ строки, нужно обратить к строке, вызвать метод `charAt`, который принимает на вход `index` символа (напомню, что индексы в строках и массивах начинаются с 0).
6. Вмеcто `//TODO` добавляем 

   ```
   char c = input.charAt(i);
   if (c == '(') {
   
       //если нашли открывающую скобку, увеличиваем счетик
       counter++;
   } else {
   
       //если нашли закрывающую скобку, уменьшаем счетик
       counter--;
   }
   ```
   
7. Результатом выполнения нашего метода `isFormulaValid` будет сравнение counter c нулем. Можно записать как `return counter == 0`.
8. Осталось проверить и вызвать наш метод в методе `main`.
9. Результат выполнения можно вывести через `System.out.println(checkFormula(input));`.

Примерная структура программу получится такая:
  ```
  import java.util.Scanner;
  class Main {
      public static void main(String[] args) {
          Scanner scanner = new Scanner(System.in);
          String input = scanner.nextLine();
          System.out.println(isFormulaValid(input));
      }
    
      public static boolean isFormulaValid (String input){
        int counter = 0;
        //TODO  
        return counter == 0;
      }
  }

---

## Инструкция по выполнению домашнего задания

1. Зарегистрируйтесь на сайте [Repl.IT](http://repl.it/).
2. Перейдите в раздел **my repls**.
3. Нажмите кнопку **Start coding now!**, если приступаете впервые, или **New Repl**, если у вас уже есть работы.
4. В списке языков выберите `Java`.
5. Код пишите в левой части окна, вместо строки `System.out.println("Hello world!");`.
6. Опирайтесь на принятый [стиль оформления кода](https://github.com/netology-code/codestyle/blob/master/java/README.md).
7. Посмотреть результат выполнения файла можно, нажав на кнопку **Run**. Результат появится в правой части окна.
8. После окончания работы нажмите кнопку **Share** и скопируйте ссылку из поля Share link.
9. В личном кабинете на сайте [netology.ru](http://netology.ru/) в поле комментария к домашней работе вставьте скопированную ссылку и отправьте работу на проверку.

*Никаких файлов прикреплять не нужно.*

