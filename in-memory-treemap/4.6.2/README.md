# Домашнее задание к занятию 4.6. InMemory-хранение данных - коллекция TreeMap

## Задача 2. Найти взломщика.

Неизвестный попытался произвести атаку на сервер интернет-провайдера, но администратор вовремя спохватился и успел снять логи,
перед тем как отключить всю систему. В логах не так много ip-адресов. Известно, что злоумышленник делал больше всего запросов на сервер.

Нужно как можно скорее выяснить ip-адрес злоумышленника, отыскать его данные в базе клиентов и отправить данные в полицию.

Что у нас есть?

[Лог файл сервера - server.log](./server.log)

[База клиентов - users.db](./users.db)

Функциональные требования к программе:

* Прочитать данные из файла `users.db`.
* Прочитать данные из файла `server.log`.
* Посчитать количество вхождений каждого ip-адреса в файл `server.log`.
* Вывести `top-1` - самого часто встречаемого ip-адреса с количеством вхождений и владельцем. 

Нужно прочитать все данные из файла `server.log`, посчитать количество всех одинаковых ip-адресов, а потом найти его в базе пользователей `users.db`.

Для чтения из файла можно использовать класс `Scanner`. Пример чтения:
```
//Создаем объекта файл
File file = new File("file.txt");

//Создаем scanner для чтения из файла
Scanner scanner = new Scanner(file);

//Построчно читаем файл в цикле, пока файл не закончится
while (scanner.hasNextLine()) {
    String line = scanner.nextLine() 
    System.out.println(line); //вывод данных из файла (пример)
}

//Закрываем scanner после чтения, для освобождения файла и ресурсов
scanner.close();
```

### Реализация

1. Создать класс `User.java` с полями: id, фамилия, имя, отчество, адрес проживания.
  
2. Прочитать данные из файла [База клиентов - users.db](./users.db) в TreeMap, где ключ - id пользователя, а значение - объект типа User.

3. Дополнительно сохранить в отдельную коллекцию id пользователя и ip-адрес, под которыми он выходит в интернет.
Можно сохранить адреса в `HashMap usersIps`, где ключ - `id пользователя`, а значение - множество `ip-адерсов` (Set<String>).

4. Прочитать второй файл `server.log`. Как видно из лог-файла, у нас множество адресов с портами. Создадим второй
HashMap. В качестве ключа будем использовать ip-адрес, а в качестве значения - сколько раз он встретился нам
в файле:
```
Map<String, Integer> logs = new HashMap<>();
while (scanner.hasNextLine()) {
    String ip = scanner.readLine();
    if (logs.get(ip) == null) {
        logs.put(ip, 1);
    } else {
        logs.put(ip, (logs.get(ip) + 1));
    }
}
```
Найдя максимальное число в этой HashMap, мы найдем злоумышленника.

Получив ip-адрес, сохраним его в переменную `String villainIp = "xxx.xxx.xxx.xxx"`.

5. Найдем id пользователя с помощью `map usersIps`, перебрав в цикле всю map.
Сохраним id пользователя в переменную `String villainId`.

6. Найдем и выведем на экран фамилию, имя, адрес пользователя и количество его входов.

7. Дело раскрыто.
